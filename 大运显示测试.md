# 大运显示测试

## 测试说明
测试自动扩展功能中大运列的显示是否正确，应该显示对应年份的正确大运，而不是一直显示"前运"。

## 测试1：当前时间自动扩展
应该显示2024年对应的大运

```bazi
date: 1990-01-01 08:00
gender: 男
e: 1
```

## 测试2：指定年份自动扩展
应该显示2030年对应的大运

```bazi
date: 1990-01-01 08:00
gender: 男
e: 5
t: 2030-06-15 12:00
```

## 测试3：流日扩展
应该显示当前年份对应的大运

```bazi
bazi: 庚午 戊子 甲子 乙亥
gender: 女
e: 2
```

## 测试4：流月扩展
应该显示当前年份对应的大运

```bazi
lunar: 1985-03-15 10:30
gender: 男
e: 3
```

## 测试5：验证不同年份的大运
测试1995年出生的人在不同年份的大运

```bazi
date: 1995-05-20 14:30
gender: 女
e: 5
t: 2025-01-01 12:00
```

## 测试6：验证不扩展模式
应该不显示任何大运列

```bazi
date: 1990-01-01 08:00
gender: 男
e: 0
```

## 测试7：验证清除扩展后的状态
先扩展再清除，应该不显示大运

```bazi
date: 1990-01-01 08:00
gender: 男
extend: none
```

## 预期结果
- **有扩展时**：大运列应该显示对应年份的正确大运干支
- **不扩展时**：不应该显示任何大运列
- 不应该一直显示"前运"（除非确实在前运期间）
- 大运名称应该是"大运"而不是"前运"（除非确实在前运期间）
- 大运干支应该与该年份的实际大运匹配
- `e: 0` 或 `extend: none` 时应该完全不显示扩展列

## 调试信息
如果仍有问题，请检查控制台输出：
- `setDaYunIndexForYear` 的日志
- `getDaYunPillarInfo` 的日志
- 大运数据的年份范围

---

## 🕐 扩展列标题时间信息测试

### 预期的标题格式

#### 大运标题
- 前运：`前运`
- 大运：`大运\n2024-2034\n(34-44岁)`

#### 流年标题
- 格式：`流年\n2024年\n(甲辰)`

#### 流月标题
- 格式：`流月\n2024.6月\n(6.5)` （包含公历起始日期）

#### 流日标题
- 格式：`流日\n2024.6.17\n(甲辰)`

#### 流时标题
- 格式：`流时\n2024.6.17 14:00\n(甲辰)`
- 或：`流时\n未时\n(甲辰)`

#### 特殊宫位标题
- 胎元：`胎元`
- 命宫：`命宫`
- 身宫：`身宫`

### 样式要求

1. **多行文本支持**：使用 `white-space: pre-line` 支持换行符
2. **美观布局**：合适的行间距和字体大小
3. **垂直居中**：确保多行文本在单元格中垂直居中
4. **最小高度**：确保有足够空间显示多行内容
5. **响应式设计**：在不同屏幕尺寸下都能正常显示

### 测试用例（验证标题时间信息）

#### 测试A：完整时间层级（应显示所有时间信息）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 1
```

#### 测试B：自定义时间（应显示目标时间）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 5
t: 2025-06-17 14:30
```

#### 测试C：流月扩展（应显示月份和公历对应）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 3
```
