# 扩展列关闭按钮位置测试

## 测试目标
验证扩展列标题中的关闭按钮（×）是否正确显示在单元格的右上角。

## 修改内容

### 1. 布局结构调整
- **标题容器**：改为相对定位，用于包含绝对定位的关闭按钮
- **标题文本**：居中显示，支持多行文本
- **关闭按钮**：绝对定位到右上角

### 2. 关闭按钮样式优化
- **位置**：`position: absolute; top: 2px; right: 2px;`
- **尺寸**：`width: 20px; height: 20px;`
- **居中**：使用flex布局确保×符号居中
- **层级**：`z-index: 10` 确保在最上层

### 3. 悬停效果增强
- **颜色变化**：悬停时变为错误色
- **背景高亮**：半透明白色背景
- **缩放效果**：`transform: scale(1.1)`
- **阴影效果**：`box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2)`

## 测试用例

### 测试1：当前时间扩展（多个扩展列）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 1
```

### 测试2：流月扩展（较少扩展列）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 3
```

### 测试3：特殊宫位（三个宫位列）
```bazi
date: 1990-01-01 08:00
gender: 男
e: 4
```

### 测试4：自定义时间扩展
```bazi
date: 1990-01-01 08:00
gender: 男
e: 5
t: 2025-06-17 14:30
```

## 预期效果

### 视觉效果
1. **位置正确**：关闭按钮应该在每个扩展列标题的右上角
2. **不遮挡文字**：按钮不应该遮挡标题文本内容
3. **大小适中**：20x20px的按钮大小，不会太大或太小
4. **对齐一致**：所有扩展列的关闭按钮位置保持一致

### 交互效果
1. **悬停反馈**：鼠标悬停时有明显的视觉反馈
2. **点击响应**：点击后能正确关闭对应的扩展列
3. **动画流畅**：缩放和颜色变化动画自然

### 兼容性
1. **多行文本**：与多行标题文本兼容
2. **不同宽度**：在不同列宽下都能正确显示
3. **响应式**：在不同屏幕尺寸下保持正确位置

## 技术实现

### CSS 关键属性
```css
.header-close-btn {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}
```

### 容器布局
```css
.header-title-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
}
```

### 表头样式
```css
th {
  position: relative;
  overflow: visible;
  padding: 4px;
  min-height: 60px;
}
```

## 验证要点

1. **位置准确性**：检查关闭按钮是否在右上角
2. **文本不遮挡**：确保多行标题文本完整显示
3. **悬停效果**：验证鼠标悬停时的视觉反馈
4. **功能正常**：确认点击关闭按钮能正确关闭扩展列
5. **样式一致性**：所有扩展列的按钮样式保持统一

## 可能的问题

1. **层级冲突**：如果按钮被其他元素遮挡
2. **位置偏移**：在不同浏览器中位置可能有差异
3. **响应式问题**：在小屏幕上可能显示异常
4. **文本重叠**：长标题可能与按钮重叠

如果发现任何问题，请检查控制台输出和元素检查器中的样式应用情况。
